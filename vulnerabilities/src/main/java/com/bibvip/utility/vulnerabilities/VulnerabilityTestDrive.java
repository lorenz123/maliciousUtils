package com.bibvip.utility.vulnerabilities;

import org.openqa.selenium.WebDriver;

import java.util.Scanner;

import static config.DriverConfig.getChromeConfig;

public class VulnerabilityTestDrive {
    public static void main(String[] args) throws Exception {
        WebDriver driver = getChromeConfig();

        VulnerabilityFactory vulnerabilityFactory = new VulnerabilityFactory();
        Vulnerability testVulnerability = null;

        Scanner userInput = new Scanner(System.in);
        System.out.println("What type of test do you want?");

        if(userInput.hasNextLine()){
            String typeOfTest = userInput.nextLine();
            testVulnerability = vulnerabilityFactory.checkVulnerability(driver, typeOfTest);
        }

        if(testVulnerability != null){
            doVulnerabilityCheck(testVulnerability);
        } else {
            System.out.println("error on all");
        }

    }

    private static void doVulnerabilityCheck(Vulnerability vulnerabilityTest) {

        vulnerabilityTest.testLeftPane();

    }
}
